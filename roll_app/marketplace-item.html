<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Item ‚Äì Roll ‚Äôn Connect</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="rollnconnect.css" />
  <style>
    .item-layout {
      display: grid;
      grid-template-columns: 1fr 320px;
      gap: 24px;
    }
    @media (max-width: 900px) {
      .item-layout {
        grid-template-columns: 1fr;
      }
    }
    .gallery {
      display: flex;
      flex-direction: column;
      gap: 14px;
    }
    .gallery-main {
      width: 100%;
      height: 320px;
      border-radius: 18px;
      background: rgba(255,255,255,0.08);
      border: 1px solid rgba(168,85,247,0.4);
      background-size: cover;
      background-position: center;
    }
    .gallery-thumbs {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }
    .gallery-thumb {
      height: 120px;
      border-radius: 14px;
      background: rgba(255,255,255,0.08);
      border: 1px solid rgba(168,85,247,0.4);
      background-size: cover;
      background-position: center;
      cursor: pointer;
      transition: 0.2s;
    }
    .gallery-thumb:hover {
      transform: scale(1.03);
      border-color: var(--purple);
    }
    .seller-card {
      margin-top: 20px;
      padding: 16px;
      border-radius: 18px;
      background: var(--glass);
      border: 1px solid var(--border-soft);
    }
  </style>
</head>
<body>
<div class="app-shell">

  <header class="app-header">
    <div class="app-header-left">
      <div class="brand-logo">R</div>
      <div class="brand-name">Roll ‚Äôn Connect</div>
    </div>
    <div class="app-header-right">
      <a href="marketplace.html" class="icon-btn">‚Üê</a>
      <a href="chat.html" class="icon-btn">‚úâ</a>
    </div>
  </header>

  <main class="page">
    <h1 id="itemTitle">Loading...</h1>

    <div class="item-layout">
      <div>
        <div class="gallery">
          <div id="mainImage" class="gallery-main"></div>
          <div class="gallery-thumbs">
            <div id="thumb1" class="gallery-thumb"></div>
            <div id="thumb2" class="gallery-thumb"></div>
          </div>
        </div>

        <div class="card" style="margin-top:20px;">
          <h2>Details</h2>
          <p id="itemPrice" class="card-text"></p>
          <p id="itemCondition" class="card-text"></p>
          <p id="itemCategory" class="card-text"></p>
          <p id="itemLocation" class="card-text">Location: Atlanta, GA</p>

          <button class="btn btn-primary" onclick="saveItem()" style="margin-top:6px;">
            Save item
          </button>
        </div>

        <h2 style="margin-top:28px;">You may also like</h2>
        <div id="recommendGrid" class="market-grid"></div>
      </div>

      <div>
        <div class="seller-card">
          <h3>Seller</h3>
          <p style="font-size:14px; font-weight:600;">@SkateFlow</p>
          <p class="card-text">Verified seller ‚Ä¢ 4.9 rating</p>
          <a href="chat.html" class="btn btn-primary" style="margin-top:10px;">Message seller</a>
        </div>

        <div class="card" style="margin-top:20px;">
          <h3>Recently Viewed</h3>
          <div id="recentItems"></div>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <div class="footer-row">
      <span>¬© <span id="year"></span> Roll ‚Äôn Connect.</span>
    </div>
  </footer>

  <nav class="bottom-nav">
    <a href="index.html" class="bottom-nav-link">
      <div class="bottom-nav-icon">üè†</div>
      <span>Home</span>
    </a>
    <a href="spots-map.html" class="bottom-nav-link">
      <div class="bottom-nav-icon">üß≠</div>
      <span>Explore</span>
    </a>
    <a href="clips-feed.html" class="bottom-nav-link">
      <div class="bottom-nav-icon">‚ñ∂</div>
      <span>Clips</span>
    </a>
    <a href="marketplace.html" class="bottom-nav-link bottom-nav-link-active">
      <div class="bottom-nav-icon">üõí</div>
      <span>Market</span>
    </a>
    <a href="dashboard.html" class="bottom-nav-link">
      <div class="bottom-nav-icon">üë§</div>
      <span>Profile</span>
    </a>
  </nav>
</div>

<script>
  document.getElementById("year").textContent = new Date().getFullYear();

  const items = [
    { id: 1, title: "Dancing Longboard", price: 180, category: "longboard", condition: "used" },
    { id: 2, title: "Street Skateboard", price: 95, category: "skateboard", condition: "used" },
    { id: 3, title: "Custom Roller Skates", price: 220, category: "roller", condition: "new" },
    { id: 4, title: "Urban Inline Skates", price: 160, category: "inline", condition: "new" },
    { id: 5, title: "Longboard Wheels", price: 40, category: "gear", condition: "new" },
    { id: 6, title: "Skateboard Trucks", price: 55, category: "gear", condition: "used" },
  ];

  const currentId = JSON.parse(localStorage.getItem("currentItem")) || 1;
  const item = items.find(i => i.id === currentId) || items[0];

  document.getElementById("itemTitle").textContent = item.title;
  document.getElementById("itemPrice").textContent = "Price: $" + item.price;
  document.getElementById("itemCondition").textContent = "Condition: " + item.condition;
  document.getElementById("itemCategory").textContent = "Category: " + item.category;

  document.getElementById("mainImage").style.backgroundImage = "url('https://picsum.photos/600?random=" + (item.id+10) + "')";
  document.getElementById("thumb1").style.backgroundImage = "url('https://picsum.photos/300?random=" + (item.id+20) + "')";
  document.getElementById("thumb2").style.backgroundImage = "url('https://picsum.photos/300?random=" + (item.id+30) + "')";

  document.getElementById("thumb1").onclick = () => {
    document.getElementById("mainImage").style.backgroundImage = document.getElementById("thumb1").style.backgroundImage;
  };
  document.getElementById("thumb2").onclick = () => {
    document.getElementById("mainImage").style.backgroundImage = document.getElementById("thumb2").style.backgroundImage;
  };

  function saveItem() {
    let saved = JSON.parse(localStorage.getItem("savedItems") || "[]");
    if (!saved.includes(item.id)) saved.push(item.id);
    localStorage.setItem("savedItems", JSON.stringify(saved));
    alert("Item saved!");
  }

  function loadRecent() {
    const recent = JSON.parse(localStorage.getItem("recentItems") || "[]");
    const container = document.getElementById("recentItems");
    container.innerHTML = recent.map(id => {
      const it = items.find(i => i.id === id);
      return `<p>${it.title} ‚Äì $${it.price}</p>`;
    }).join("");
  }
  loadRecent();

  const recommend = items.filter(i => i.id !== item.id).slice(0, 4);
  const recGrid = document.getElementById("recommendGrid");
  recommend.forEach(r => {
    const div = document.createElement("div");
    div.className = "market-card enhanced-market-card";
    div.onclick = () => {
      localStorage.setItem("currentItem", r.id);
      window.location.reload();
    };
    div.innerHTML = `
      <div class="item-img"
           style="height:130px; background-image:url('https://picsum.photos/400?random=${r.id+40}'); border-radius:12px;"></div>
      <div class="market-title">${r.title}</div>
      <div class="market-price">$${r.price}</div>
    `;
    recGrid.appendChild(div);
  });
</script>
</body>
</html>
