<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Edit Profile ‚Äì Roll ‚Äôn Connect</title>
  <link rel="stylesheet" href="styles/style.css">

  <style>
    body{
      background:#000;color:#fff;margin:0;padding:0;
      font-family:'Inter',sans-serif;overflow-x:hidden;
    }
    .stars1,.stars2,.stars3{
      position:fixed;inset:0;
      background:url('styles/stars-white.png') repeat;
      z-index:-3;
    }
    .stars1{opacity:.55;animation:drift1 140s linear infinite;}
    .stars2{opacity:.35;animation:drift2 200s linear infinite;}
    .stars3{opacity:.2;animation:drift3 260s linear infinite;}
    @keyframes drift1{from{background-position:0 0;}to{background-position:0 -5000px;}}
    @keyframes drift2{from{background-position:0 0;}to{background-position:-4000px -2000px;}}
    @keyframes drift3{from{background-position:0 0;}to{background-position:3000px 4000px;}}

    .sidebar{
      position:fixed;top:50%;left:-260px;transform:translateY(-50%);
      width:260px;background:rgba(255,255,255,0.08);backdrop-filter:blur(25px);
      border-right:1px solid rgba(255,255,255,0.25);
      padding:30px 20px;border-radius:0 20px 20px 0;
      box-shadow:10px 0 40px rgba(255,255,255,0.25);
      transition:0.35s ease;z-index:9998;
    }
    .sidebar.open{left:0;}

    .hamburger{
      position:fixed;top:25px;left:25px;width:40px;height:30px;
      display:flex;flex-direction:column;justify-content:space-between;
      cursor:pointer;z-index:9999;
    }
    .hamburger span{
      height:4px;width:100%;background:#fff;border-radius:4px;
      box-shadow:0 0 12px rgba(255,255,255,0.9);transition:0.3s;
    }
    .hamburger.active span:nth-child(1){transform:translateY(13px) rotate(45deg);}
    .hamburger.active span:nth-child(2){opacity:0;}
    .hamburger.active span:nth-child(3){transform:translateY(-13px) rotate(-45deg);}

    .nav-header{text-align:center;margin-bottom:30px;}
    .logo-orb{font-size:3rem;margin-bottom:10px;text-shadow:0 0 20px #fff;}
    .nav-title{font-size:1.4rem;font-weight:600;text-shadow:0 0 10px #fff;}
    .nav-links{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:18px;}
    .nav-links a{
      color:#fff;text-decoration:none;font-size:1.05rem;
      padding:10px 14px;border-radius:12px;background:rgba(255,255,255,0.05);
      box-shadow:0 0 12px rgba(255,255,255,0.15);transition:0.25s;
    }
    .nav-links a:hover{background:rgba(255,255,255,0.2);transform:translateX(8px);box-shadow:0 0 20px rgba(255,255,255,0.4);}

    .page-wrapper{
      padding-top:120px;padding-bottom:80px;
      max-width:900px;margin:0 auto;
    }
    .form-card{
      background:rgba(255,255,255,0.08);
      backdrop-filter:blur(25px);
      padding:40px;border-radius:24px;
      box-shadow:0 0 60px rgba(255,255,255,0.3);
    }

    label{font-size:0.85rem;opacity:0.85;display:block;margin-bottom:4px;}
    input,textarea,select{
      width:100%;padding:10px 12px;margin-bottom:16px;
      border:none;border-radius:12px;
      background:rgba(255,255,255,0.16);color:#fff;font-size:0.95rem;
    }

    .section-title{
      margin-top:26px;margin-bottom:8px;font-size:1.2rem;
    }

    .posts-list,.lessons-list{margin-top:10px;}

    .post-item,.lesson-item{
      background:rgba(255,255,255,0.12);
      padding:14px;border-radius:14px;
      margin-bottom:10px;position:relative;
    }

    .delete-btn{
      position:absolute;top:10px;right:10px;
      background:#ff4b4b;color:#fff;border:none;
      padding:4px 8px;border-radius:8px;font-size:0.75rem;cursor:pointer;
    }

    .row-flex{display:flex;gap:10px;}
    .row-flex input{flex:1;}

    .add-btn{
      padding:10px 16px;background:#fff;color:#000;border-radius:12px;
      border:none;cursor:pointer;font-weight:600;margin-bottom:10px;
    }

    .save-btn{
      padding:12px 20px;background:#fff;color:#000;
      border-radius:12px;font-weight:600;border:none;cursor:pointer;
      margin-top:10px;
    }
  </style>
</head>
<body>

<div class="stars1"></div><div class="stars2"></div><div class="stars3"></div>

<div id="hamburger" class="hamburger"><span></span><span></span><span></span></div>

<nav id="sidebar" class="sidebar">
  <div class="nav-header">
    <div class="logo-orb">‚úèÔ∏è</div>
    <div class="nav-title">Edit Profile</div>
  </div>
  <ul class="nav-links">
    <li><a href="profile.html">‚¨Ö Back to Profile</a></li>
    <li><a href="dashboard.html">üìä Dashboard</a></li>
    <li><a href="chatrooms.html">üí¨ Chatrooms</a></li>
  </ul>
</nav>

<div class="page-wrapper">
  <div class="form-card">
    <h1 style="text-align:center;margin-bottom:24px;">Edit Profile</h1>

    <label for="name">Name</label>
    <input id="name" placeholder="Your Name">

    <label for="bio">Bio</label>
    <textarea id="bio" rows="3" placeholder="Your bio"></textarea>

    <label for="link">Link</label>
    <input id="link" placeholder="https://your-site-or-link">

    <label for="instagram">Instagram Username</label>
    <input id="instagram" placeholder="yourhandle">

    <div class="section-title">Posts</div>
    <div id="postsList" class="posts-list"></div>

    <div class="section-title">Lessons Offered</div>
    <div id="lessonsList" class="lessons-list"></div>

    <div style="margin-top:10px;">
      <label>Lesson Title</label>
      <input id="lessonTitle" placeholder="Beginner Dance Lesson">
      <div class="row-flex">
        <div>
          <label>Price</label>
          <input id="lessonPrice" placeholder="40">
        </div>
        <div>
          <label>Duration (minutes)</label>
          <input id="lessonDuration" placeholder="60">
        </div>
      </div>
      <label>Description</label>
      <textarea id="lessonDescription" rows="2" placeholder="What you cover, level, etc."></textarea>
      <button class="add-btn" id="addLessonBtn">+ Add Lesson</button>
    </div>

    <button class="save-btn" id="saveProfileBtn">Save Profile</button>
  </div>
</div>

<script>
  const hb=document.getElementById("hamburger"), sb=document.getElementById("sidebar");
  hb.onclick=()=>{hb.classList.toggle("active");sb.classList.toggle("open");};

  let profile = JSON.parse(localStorage.getItem("rc_profile") || "{}");
  profile.posts = profile.posts || [];
  profile.lessons = profile.lessons || [];

  const nameEl = document.getElementById("name");
  const bioEl = document.getElementById("bio");
  const linkEl = document.getElementById("link");
  const instaEl = document.getElementById("instagram");
  const postsList = document.getElementById("postsList");
  const lessonsList = document.getElementById("lessonsList");

  nameEl.value = profile.name || "";
  bioEl.value = profile.bio || "";
  linkEl.value = profile.link || "";
  instaEl.value = profile.instagram || "";

  function renderPosts(){
    postsList.innerHTML="";
    profile.posts.forEach((p,idx)=>{
      const div=document.createElement("div");
      div.className="post-item";
      div.innerHTML = `
        <div><strong>${p.type.toUpperCase()}</strong> ‚Äì ${p.caption || ""}</div>
        <div style="font-size:0.8rem;opacity:0.9;">Likes: ${p.likes || 0} ‚Ä¢ Views: ${p.views || 0}</div>
        <button class="delete-btn" data-idx="${idx}">Delete</button>
      `;
      postsList.appendChild(div);
    });
    postsList.querySelectorAll(".delete-btn").forEach(btn=>{
      btn.onclick=()=>{
        const i=parseInt(btn.dataset.idx,10);
        profile.posts.splice(i,1);
        renderPosts();
      };
    });
  }

  function renderLessons(){
    lessonsList.innerHTML="";
    profile.lessons.forEach((ls,idx)=>{
      const div=document.createElement("div");
      div.className="lesson-item";
      div.innerHTML=`
        <div><strong>${ls.title}</strong> ‚Äì $${ls.price}, ${ls.duration} min</div>
        <div style="font-size:0.9rem;opacity:0.9;">${ls.description}</div>
        <button class="delete-btn" data-idx="${idx}">Delete</button>
      `;
      lessonsList.appendChild(div);
    });
    lessonsList.querySelectorAll(".delete-btn").forEach(btn=>{
      btn.onclick=()=>{
        const i=parseInt(btn.dataset.idx,10);
        profile.lessons.splice(i,1);
        renderLessons();
      };
    });
  }

  renderPosts();
  renderLessons();

  document.getElementById("addLessonBtn").onclick=()=>{
    const title=document.getElementById("lessonTitle").value.trim();
    const price=document.getElementById("lessonPrice").value.trim();
    const duration=document.getElementById("lessonDuration").value.trim();
    const description=document.getElementById("lessonDescription").value.trim();
    if(!title) return;
    profile.lessons.push({title,price,duration,description});
    document.getElementById("lessonTitle").value="";
    document.getElementById("lessonPrice").value="";
    document.getElementById("lessonDuration").value="";
    document.getElementById("lessonDescription").value="";
    renderLessons();
  };

  document.getElementById("saveProfileBtn").onclick=()=>{
    profile.name = nameEl.value.trim() || "Your Name";
    profile.bio = bioEl.value.trim();
    profile.link = linkEl.value.trim();
    profile.instagram = instaEl.value.trim();
    localStorage.setItem("rc_profile",JSON.stringify(profile));
    window.location.href="profile.html";
  };
</script>

</body>
</html>
