<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>RollnConnect – Profile</title>
  <link rel="stylesheet" href="rc-theme.css" />
</head>
<body>
  <div class="rc-shell">
    <header class="rc-shell-header">
      <div class="rc-brand">
        <div class="rc-brand-logo"></div>
        <div class="rc-brand-text">RollnConnect</div>
      </div>
      <button class="rc-btn-secondary" onclick="window.location.href='dashboard.html'">
        Back to Dashboard
      </button>
    </header>

    <main class="rc-shell-main">
      <!-- LEFT: Profile + media + lessons -->
      <section class="rc-panel">
        <div class="rc-profile-header">
          <div
            id="rcProfileAvatar"
            class="rc-profile-avatar"
            style="background-image: url('assets/images/default-avatar.jpg');"
          ></div>

          <div class="rc-profile-meta">
            <div id="rcProfileName" class="rc-profile-name">Rider Name</div>
            <div id="rcProfileHandle" class="rc-profile-handle">@handle</div>
            <div class="rc-profile-tags" id="rcProfileTags">
              <!-- dynamic tags, e.g. "Freestyle", "Dance", "Beginner Friendly" -->
            </div>
            <div style="margin-top: 6px;">
              <button class="rc-btn" onclick="window.location.href='edit_profile.html'">
                Edit Profile
              </button>
            </div>
          </div>
        </div>

        <div id="rcProfileBio" style="font-size: 13px; color: var(--text-muted); margin-bottom: 10px;">
          Bio will show here. Add your style, city, and vibe.
        </div>

        <!-- Wheels media slider -->
        <div class="rc-wheels">
          <div class="rc-panel-title-row">
            <div class="rc-panel-title">Clip wheels</div>
            <button class="rc-btn-secondary" id="rcAddMediaBtn">Add clip / photo</button>
          </div>
          <div class="rc-wheels-track" id="rcWheelsTrack">
            <!-- dynamic media cards -->
          </div>
        </div>

        <!-- Lessons section at bottom of profile -->
        <div class="rc-lessons-section" id="rcLessonsSection" style="display: none;">
          <div class="rc-panel-title-row">
            <div class="rc-panel-title">Lessons & bookings</div>
          </div>
          <div id="rcLessonsSummary" style="font-size: 13px; color: var(--text-muted); margin-bottom: 6px;">
            <!-- dynamic summary: price, style, city -->
          </div>
          <div class="rc-lessons-grid" id="rcLessonsGrid">
            <!-- dynamic lesson cards -->
          </div>

          <div style="margin-top: 10px;">
            <div class="rc-panel-title-row">
              <div class="rc-panel-title">Lesson reviews</div>
            </div>
            <div id="rcReviewsList" class="rc-reviews-list"></div>

            <div class="rc-form-group" style="margin-top: 10px;">
              <label class="rc-label">Leave a review</label>
              <input
                id="rcReviewName"
                class="rc-input"
                type="text"
                placeholder="Your name or handle"
              />
              <textarea
                id="rcReviewText"
                class="rc-textarea"
                placeholder="Share your experience..."
              ></textarea>
              <button class="rc-btn" id="rcSubmitReviewBtn">Submit review</button>
            </div>
          </div>
        </div>
      </section>

      <!-- RIGHT: Calendar + messaging -->
      <section class="rc-panel">
        <div class="rc-panel-title-row">
          <div class="rc-panel-title">Calendar & messages</div>
          <div class="rc-chip">
            <span id="rcCalendarNotificationsChip">Notifications off</span>
          </div>
        </div>

        <!-- Calendar preview -->
        <div style="margin-bottom: 14px;">
          <div style="font-size: 13px; color: var(--text-muted); margin-bottom: 6px;">
            Upcoming lessons & events (local view)
          </div>
          <ul id="rcCalendarList" style="list-style: none; padding-left: 0; margin: 0; font-size: 13px;">
            <!-- dynamic upcoming entries -->
          </ul>
          <div style="margin-top: 8px;">
            <button class="rc-btn-secondary" onclick="window.location.href='calendar.html'">
              Open full calendar
            </button>
          </div>
        </div>

        <!-- Notifications opt in -->
        <div class="rc-form-group" style="margin-bottom: 12px;">
          <div class="rc-toggle-row">
            <span>Opt in to local calendar notifications</span>
            <input type="checkbox" id="rcNotificationsToggle" />
          </div>
          <div style="font-size: 11px; color: var(--text-muted);">
            Notifications are local to your device. You can opt out anytime.
          </div>
        </div>

        <!-- Messaging -->
        <div class="rc-panel-title-row" style="margin-top: 4px;">
          <div class="rc-panel-title">Messages</div>
          <div class="rc-chip">
            Local • resets every 24h
          </div>
        </div>

        <div id="rcMessagesThread" class="rc-messages-thread"></div>

        <div class="rc-message-input-row">
          <input
            id="rcMessageInput"
            type="text"
            placeholder="Send a message to this rider (local only)..."
          />
          <button class="rc-btn" id="rcSendMessageBtn">Send</button>
        </div>
      </section>
    </main>
  </div>

  <script src="rc-profile.js"></script>
  <script>
    // Initialize profile page
    RcProfile.initProfilePage();
  </script>
</body>
</html>
